import{u as y,a,j as r,P as f,T as u,m as l,B as i,N as D,F as m,b as j,c as x,d as N,R as k,r as w,L as P,e as b,D as O,o as v,f as h,g as F,h as A,i as M,k as K,l as d,n as S,M as C,p as L,G as I}from"./index-Cf0SbAd0.js";import{P as $}from"./Projectstatus-PabjCUYO.js";function B(){const t=y(s=>s.breakpoints.down("lg"));return a("div",{className:"flex grow-0  flex-1 w-full items-center justify-between  space-y-8 sm:space-y-0 py-24 sm:py-32",children:[r(l.span,{initial:{x:-20},animate:{x:0,transition:{delay:.2}},children:a("div",{children:[r(f,{className:"mb-8"}),r(u,{className:"text-4xl font-extrabold leading-none tracking-tight",children:"Projects"})]})}),r("div",{className:"flex flex-1 items-center justify-end space-x-8",children:r(l.div,{className:"flex flex-grow-0",initial:{opacity:0,x:20},animate:{opacity:1,x:0,transition:{delay:.2}},children:a(i,{className:"",variant:"contained",color:"secondary",component:D,to:"/apps/projects/projectSearch/new",size:t?"small":"medium",children:[r(m,{size:20,children:"heroicons-outline:plus"}),r("span",{className:"mx-4 sm:mx-8",children:"Add"})]})})})]})}function T(){const{data:t,isLoading:s,refetch:c}=j(void 0,{refetchOnMountOrArgChange:!0}),[p]=x(),n=N();k.useEffect(()=>{c()},[c]);const g=w.useMemo(()=>[{accessorKey:"ProjectNumber",header:"Project Number",accessorFn:e=>`${e.projectNumber}`},{accessorKey:"ProjectName",header:"Project Name",Cell:({row:e})=>{var o;return r(u,{component:P,to:`/apps/projects/projectSearch/${e.original.id}`,className:"underline",color:"secondary",role:"button",children:`${(o=e.original)==null?void 0:o.projectName} `})}},{accessorKey:"ProjectDescription",header:"Project Description",accessorFn:e=>`${e.projectDescription}`},{accessorKey:"StartDate",header:"Start Date",accessorFn:e=>new Date(e.startDate||"").toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})},{accessorKey:"EndDate",header:"End Date",accessorFn:e=>new Date(e.endDate||"").toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})},{accessorKey:"status",header:"Project Status",Cell:({row:e})=>r($,{status:e.original.status})},{accessorKey:"workOrderName",header:"Work Order Name",accessorFn:e=>`${e.workOrderName}`},{accessorKey:"workOrderNumber",header:"Work Order Number",accessorFn:e=>`${e.workOrderNumber}`},{accessorKey:"PeriodOfWorkInMonths",header:"Period of Work",accessorFn:e=>`${e.periodOfWorkInMonths}`},{accessorKey:"workOrderAmount",header:"Work Order Amount",accessorFn:e=>`â‚¹  ${e.workOrderAmount}`},{accessorKey:"workOrderDate",header:"Work Order Date",accessorFn:e=>new Date(e.workOrderDate||"").toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})}],[]);return s?r(b,{}):r(L,{className:"flex flex-col flex-auto shadow-1 rounded-t-lg overflow-hidden rounded-b-0 w-full h-full",elevation:0,children:r(O,{enableMultiRemove:!1,data:t,columns:g,renderRowActionMenuItems:({closeMenu:e,row:o,table:W})=>[a(C,{onClick:()=>{n(v({children:a(h,{children:[r(F,{id:"alert-dialog-title",children:"Confirm Delete"}),r(A,{children:r(M,{id:"alert-dialog-description",children:"You are going to remove selected project. Are you sure you want to continue?"})}),a(K,{children:[r(i,{onClick:()=>n(d()),color:"primary",children:"Disagree"}),r(i,{onClick:async()=>{n(d()),await p({id:o.original.id}),c()},color:"primary",autoFocus:!0,children:"Agree"})]})]})}))},children:[r(S,{children:r(m,{children:"heroicons-outline:trash"})}),"Delete"]},0)]})})}function R(){return a(h,{children:[r(I,{styles:()=>({"#root":{maxHeight:"100vh"}})}),a("div",{className:"w-full h-full flex flex-col px-16",children:[r(B,{}),r(T,{})]})]})}export{R as default};
